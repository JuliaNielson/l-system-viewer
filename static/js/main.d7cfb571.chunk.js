(this["webpackJsonpl-system-viewer"]=this["webpackJsonpl-system-viewer"]||[]).push([[0],{10:function(e,t,a){},12:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},14:function(e,t,a){e.exports=a(20)},19:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(11),s=a.n(l),i=(a(19),a(13)),u=a(7),o=a(8),c=a(2),d=a(3),m=a(5),h=a(4),p=a(1),b=a(6),f=(a(10),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={lastX:300,lastY:300,facing:-90},a.getPath=a.getPath.bind(Object(p.a)(a)),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"getAsRadians",value:function(e){return e*Math.PI/180}},{key:"findDrawRuleBySymbol",value:function(e,t){var a=e.find((function(e){return e.symbol===t}));return a?a.drawRule:""}},{key:"getPath",value:function(e){var t=this,a=new Path2D,n=this.state.facing,r=this.state.lastX,l=this.state.lastY;return a.moveTo(300,300),e.split("").forEach((function(e){var s=t.findDrawRuleBySymbol(t.props.ruleState.symbolRules,e);if("None"===s);else if("AnglePos"===s)n+=90;else if("AngleNeg"===s)n-=90;else if("Move"===s){var i=r+10*Math.cos(t.getAsRadians(n)),u=l+10*Math.sin(t.getAsRadians(n));a.lineTo(i,u),r=i,l=u}t.setState({facing:n,lastX:r,lastY:l})})),a}}]),t}(r.a.Component)),v=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).turtle=new f(e),a.updateCanvas=a.updateCanvas.bind(Object(p.a)(a)),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.updateCanvas("")}},{key:"updateCanvas",value:function(e){var t=this.refs.canvas,a=t.getContext("2d");this.fitToContainer(t);var n=this.turtle.getPath(e);a.stroke(n)}},{key:"fitToContainer",value:function(e){var t=document.getElementById("viewPane");e.width=t.offsetWidth,e.height=t.offsetHeight}},{key:"render",value:function(){return r.a.createElement("div",{className:"View-pane",id:"viewPane"},this.props.ruleString,r.a.createElement("br",null),r.a.createElement("canvas",{ref:"canvas"},"Your browser does not support the HTML5 canvas tag or you're looking at a search engine preview or something."))}}]),t}(r.a.Component),g=a(12),y=a.n(g),R=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=[];return["Move","AnglePos","AngleNeg","None"].forEach((function(t){e.push(r.a.createElement("option",{key:t,value:t},t))})),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("input",{type:"Text",className:"symbol",id:this.props.index,value:this.props.rule.symbol,onChange:this.props.handleChange})),r.a.createElement("td",null,r.a.createElement("input",{type:"Text",className:"replacementRule",id:this.props.index,value:this.props.rule.replacementRule,onChange:this.props.handleChange})),r.a.createElement("td",null,r.a.createElement("select",{className:"drawRule",id:this.props.index,value:this.props.rule.drawRule},e)))}}]),t}(n.Component),S=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).handleDrawSystem=a.handleDrawSystem.bind(Object(p.a)(a)),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"handleDrawSystem",value:function(){var e=this.props.ruleState;this.props.generateString(e)}},{key:"render",value:function(){var e=this,t=[];this.props.ruleState.symbolRules.forEach((function(a){t.push(r.a.createElement(R,{key:a.index,index:a.ruleIndex,rule:a,handleChange:e.props.formHandler}))}));for(var a=[],n=1;n<=20;n++)a.push(r.a.createElement("option",{key:n,value:n},n));return r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Axiom"),r.a.createElement("td",null,"Iterations")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("input",{type:"Text",value:this.props.ruleState.axiom,className:"axiom",onChange:this.props.formHandler})),r.a.createElement("td",null,r.a.createElement("select",{value:this.props.ruleState.iterations,className:"iterations",onChange:this.props.formHandler},a))),r.a.createElement("tr",null,r.a.createElement("td",null,"Symbol"),r.a.createElement("td",null,"Rule")),t,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{onClick:this.props.addRuleHandler},"New Rule")),r.a.createElement("td",null,r.a.createElement("button",{onClick:this.handleDrawSystem},"Draw System"))))))}}]),t}(n.Component),E=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Control-pane"},r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:y.a,className:"App-logo",alt:"logo"}),r.a.createElement("p",{style:{textAlign:"center"}},"Welcome to Nielson's Lindenmeyer System Viewer"),r.a.createElement(S,{generateString:this.props.generateString,ruleState:this.props.ruleState,formHandler:this.props.formHandler,addRuleHandler:this.props.addRuleHandler})))}}]),t}(n.Component),j=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={ruleState:{symbolRules:[{ruleIndex:0,symbol:"a",replacementRule:"ebcdacadcbe",drawRule:"None"},{ruleIndex:1,symbol:"b",replacementRule:"dacebcbecad",drawRule:"None"},{ruleIndex:2,symbol:"c",replacementRule:"c",drawRule:"Move"},{ruleIndex:3,symbol:"d",replacementRule:"d",drawRule:"AnglePos"},{ruleIndex:4,symbol:"e",replacementRule:"e",drawRule:"AngleNeg"}],axiom:"a",iterations:4},ruleString:""},a.generateString=a.generateString.bind(Object(p.a)(a)),a.addRuleHandler=a.addRuleHandler.bind(Object(p.a)(a)),a.handleForm=a.handleForm.bind(Object(p.a)(a)),a.editSymbolRule=a.editSymbolRule.bind(Object(p.a)(a)),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement(E,{generateString:this.generateString,ruleState:this.state.ruleState,formHandler:this.handleForm,addRuleHandler:this.addRuleHandler}),r.a.createElement(v,{ref:"viewPane",value:this.state.counter,ruleString:this.state.ruleString,ruleState:this.state.ruleState}))}},{key:"generateString",value:function(e){for(var t=this,a=e.symbolRules,n=e.axiom,r=parseInt(e.iterations),l=n,s=0;s<r;s++){var i="";l.split("").forEach((function(e){i+=t.findReplacementRuleBySymbol(a,e)})),l=i}this.setState({ruleString:l}),this.refs.viewPane.updateCanvas(l)}},{key:"findReplacementRuleBySymbol",value:function(e,t){var a=e.find((function(e){return e.symbol===t}));return a?a.replacementRule:t}},{key:"findRuleByIndex",value:function(e,t){return e.find((function(e){return e.ruleIndex===t}))}},{key:"handleForm",value:function(e){e.persist(),["symbol","replacementRule","drawRule"].includes(e.target.className)?this.editSymbolRule(e):["axiom","iterations"].includes(e.target.className)&&this.setState((function(t){return{ruleState:Object(o.a)({},t.ruleState,Object(u.a)({},e.target.className,e.target.value))}}))}},{key:"editSymbolRule",value:function(e){var t=Object(i.a)(this.state.ruleState.symbolRules),a=parseInt(e.target.id,10),n=this.findRuleByIndex(t,a);n=Object(o.a)({},n,Object(u.a)({},e.target.className,e.target.value));var r=t;r.splice(a,1,n),this.setState((function(e){return{ruleState:Object(o.a)({},e.ruleState,{symbolRules:r})}}))}},{key:"addRuleHandler",value:function(e){var t=this.state.ruleState.symbolRules,a=this.getNewRule(t);t.push(a),this.setState((function(e){return{ruleState:Object(o.a)({},e.ruleState,{symbolRules:t})}}))}},{key:"getNewRule",value:function(e){return{ruleIndex:e.length,symbol:"",replacementRule:""}}}]),t}(r.a.Component);var O=function(){return r.a.createElement(j,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[14,1,2]]]);
//# sourceMappingURL=main.d7cfb571.chunk.js.map